package Server;

import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Scrollbar;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.BufferedReader;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.InputStreamReader;
import java.net.*;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JScrollBar;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.border.Border;
import javax.swing.text.html.ListView;

public class Server extends JFrame {
   ServerSocket ss;
   Socket s = ss.accept();
   
  public static void main(String[] args) throws Exception {
    new Server();
  }

  public Server() throws Exception {
    this.setSize(500, 400);
    this.setDefaultCloseOperation(3);
    this.setLayout(new BorderLayout());

    JPanel pnHeader = new JPanel();
    pnHeader.setLayout(new BoxLayout(pnHeader, BoxLayout.X_AXIS));
    JLabel lb = new JLabel("Nhập cổng kết nối: ");
    JTextField tfPort = new JTextField();

    JButton btnChoosePort = new JButton("Chọn");

    pnHeader.add(lb);
    pnHeader.add(tfPort);
    pnHeader.add(btnChoosePort);

    this.add(pnHeader, BorderLayout.NORTH);

    JTextArea jtaMessage = new JTextArea();
    jtaMessage.setEditable(false);

    JScrollPane scrollta = new JScrollPane(jtaMessage);
    this.add(scrollta, BorderLayout.CENTER);

 

    btnChoosePort.addActionListener(
      new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent e) {
          try {
            ss = new ServerSocket(Integer.parseInt(tfPort.getText()));
            s = ss.accept();
            DataInputStream din = new DataInputStream(s.getInputStream());
            DataOutputStream dout = new DataOutputStream(s.getOutputStream());
            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
          } catch (Exception e2) {
			  JOptionPane.showInputDialog(this, "Cổng nhập không hợp lệ!");
		  }
        }
      }
    );

    


    this.setVisible(true);
  }
}
